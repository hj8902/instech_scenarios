{
  "id": "age-calc-input-to-result",
  "name": "보험 나이 계산 - 생년월일 입력 → 결과 확인",
  "type": "test",
  "requiresAuth": true,
  "variables": ["baseUrl", "testBirthDate"],
  "defaults": {
    "testBirthDate": "19900101"
  },
  "steps": [
    {
      "action": "loadState",
      "description": "저장된 인증 상태 로드"
    },
    {
      "action": "navigate",
      "url": "{{baseUrl}}/age-calculation/input",
      "description": "생년월일 입력 페이지로 이동"
    },
    {
      "action": "screenshot",
      "description": "입력 페이지 스크린샷"
    },
    {
      "action": "fill",
      "selector": "input",
      "value": "{{testBirthDate}}",
      "description": "생년월일 입력 (YYYYMMDD 8자리)"
    },
    {
      "action": "screenshot",
      "description": "생년월일 입력 후 스크린샷"
    },
    {
      "action": "click",
      "selector": "button:has-text('지금 확인하기')",
      "description": "'지금 확인하기' 버튼 클릭"
    },
    {
      "action": "handleTermsAgreement",
      "description": "약관 동의 바텀시트가 나타나면 필수 약관에 동의 처리",
      "fallback": "skip"
    },
    {
      "action": "waitForNavigation",
      "description": "결과 페이지로 이동 대기"
    },
    {
      "action": "expect",
      "type": "url",
      "value": "/age-calculation/result",
      "description": "결과 페이지로 이동했는지 확인"
    },
    {
      "action": "expect",
      "type": "visible",
      "selector": "[data-testid='insurance-age'], :text('세')",
      "description": "보험 나이가 표시되는지 확인"
    },
    {
      "action": "expect",
      "type": "visible",
      "selector": ":text('보험 나이 오르는 날'), :text('남았어요')",
      "description": "보험 나이 오르는 날 정보가 표시되는지 확인"
    },
    {
      "action": "screenshot",
      "description": "결과 페이지 전체 스크린샷"
    }
  ]
}
